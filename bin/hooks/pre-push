#!/usr/bin/env bash


main() {
	render_usage_docs
}

render_usage_docs() {
	local git_root="$(git rev-parse --show-toplevel)"
	# install git-flux from source - required for the usage.sh script
	env REPO_PATH=${git_root} ${git_root}/bin/setup.sh update || { exit 1; }
	# render usage docs with the usage.sh script
	${git_root}/bin/usage.sh || { exit 2; }
	# commit them changes
	git commit -am "update usage docs (pre-push hook)"
}


main

exit 0
