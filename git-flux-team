#!/usr/bin/env sh


USAGE="team <create|destroy|sync|join> [-h]"
LONG_USAGE="---"


cmd_create() {
	action_start "$(git config --global gitflux.prefix.team)" "$(git config --global gitflux.branch.integration)" "$@"
}

cmd_destroy() {
	action_finish "$(git config --global gitflux.prefix.team)" "$@"
}

cmd_sync() {
	action_sync "$(git config --global gitflux.prefix.team)" "$@"
}

cmd_join() {

	# todo - check for existing feature branches that belong to the old team, and prompt user

	local name="$1"

	validate_mandatory_arg "$name"
	
	local prefix="$(git config --global gitflux.prefix.team)"
	local branch="$prefix$name"
	
	git config --global gitflux.branch.team "$branch"
}
